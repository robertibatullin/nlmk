
# Работа с пакетом ```nlmk```

Пакет работает под Linux и Windows. Установка требует некоторых дополнительных пакетов. Прежде всего должен быть установлен язык python не ниже версии 3.6 и программа pip.

## Установка

* Подключись к интернету.

* В командной строке введите:

```bash
pip install git+git://github.io/robertibatullin/nlmk
```

* Если в ходе установки появились ошибки, связанные с pytorch или opencv, установите их отдельно.

* Инструкции по установке pytorch для вашей ОС: https://pytorch.org/. Выберите опции: Package - Pip, Language - Python, CUDA - None.

* Для установки OpenCV введите команду: pip install opencv-python

## Работа с программой-демонстратором работы детектора

### Запуск

Запишите приложенный к этой инструкции скрипт demo.py в любую удобную папку. Запустите его из командной строки командой:

```bash
python3 demo.py --daytime <ВРЕМЯ СУТОК (day/night), ПО УМОЛЧАНИЮ day>
                --model_folder <ПАПКА С ФАЙЛАМИ day.pth, night.pth>
                --video_file <ПУТЬ К ВИДЕОФАЙЛУ>
                --start <С КАКОЙ СЕКУНДЫ НАЧИНАТЬ АНАЛИЗ ВИДЕО, ПО УМОЛЧАНИЮ 0>
```
### Управление

Мышью наводите окно детектора на область чуть выше верхней кромки ковша погрузчика. Чтобы включить детектирование, нажмите и удерживайте левую кнопку мыши. Рамка станет цветной, и в ней появится обозначение детектированной фракции. Чтобы отключить детектирование, отпустите левую кнопку мыши. Чтобы выйти, нажмите Esc.
